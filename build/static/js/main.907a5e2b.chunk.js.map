{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","Notification","message","includes","className","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleDeleteClick","name","number","id","onClick","Persons","persons","personsToShow","toLowerCase","map","i","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","event","target","preventDefault","find","window","confirm","changedPerson","returnedPerson","setTimeout","catch","error","personObject","concat","Number","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.907a5e2b.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => (\n  <div>\n    filter shown with <input\n      value={filter}\n      onChange={handleFilterChange}\n    />\n  </div>\n)\n\n\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  if (message.includes('Information')) {\n    return (\n      <div className=\"errorMessage\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"message\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst PersonForm = ({ newName, newNumber, addPerson, handleNameChange, handleNumberChange }) => (\n  <div>\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number: <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, handleDeleteClick }) => {\n  return (\n    <div>\n      {person.name} {person.number} <button\n        value={person.id}\n        onClick={handleDeleteClick}\n      >delete\n    </button>\n    </div>)\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filter, handleDeleteClick }) => {\n  const personsToShow = (filter === '')\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filter))\n\n  return (\n    <div>\n      {personsToShow.map((person, i) =>\n        <Person\n          key={i}\n          person={person}\n          handleDeleteClick={handleDeleteClick}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.map(person => person.name).includes(newName)) {\n      const person = persons.find(person => person.name === newName)\n      const id = person.id\n      if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        const changedPerson = { ...person, number: newNumber }\n        personService\n          .update(id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(`Updated ${person.name}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 2000)\n          })\n          .catch(error => {\n            setMessage(`Information of ${person.name} has already been removed from server`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 2000)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Added ${personObject.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value.toLowerCase())\n\n  const handleDeleteClick = (event) => {\n    const id = Number(event.target.value)\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Remove ${person.name} ?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setMessage(`Removed ${person.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n    }\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={persons}\n        filter={filter}\n        handleDeleteClick={handleDeleteClick}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}