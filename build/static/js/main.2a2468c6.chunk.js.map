{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","Notification","message","isError","className","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleDeleteClick","name","number","id","onClick","Persons","persons","personsToShow","toLowerCase","includes","map","i","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setIsError","useEffect","personService","initialPersons","event","target","preventDefault","find","window","confirm","changedPerson","returnedPerson","setTimeout","catch","error","personObject","createdPerson","concat","console","log","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a2468c6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => (\n  <div>\n    filter shown with <input\n      value={filter}\n      onChange={handleFilterChange}\n    />\n  </div>\n)\n\n\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, isError }) => {\n  if (message === null) {\n    return null\n  }\n  if (isError) {\n    return (\n      <div className=\"errorMessage\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"message\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst PersonForm = ({ newName, newNumber, addPerson, handleNameChange, handleNumberChange }) => (\n  <div>\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number: <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, handleDeleteClick }) => {\n  return (\n    <div>\n      {person.name} {person.number} <button\n        value={person.id}\n        onClick={handleDeleteClick}\n      >delete\n    </button>\n    </div>)\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filter, handleDeleteClick }) => {\n  const personsToShow = (filter === '')\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filter))\n\n  return (\n    <div>\n      {personsToShow.map((person, i) =>\n        <Person\n          key={i}\n          person={person}\n          handleDeleteClick={handleDeleteClick}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [isError, setIsError] = useState(false)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.map(person => person.name).includes(newName)) {\n      const person = persons.find(person => person.name === newName)\n      const id = person.id\n      if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        const changedPerson = { ...person, number: newNumber }\n        personService\n          .update(id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(`Updated ${person.name}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 2500)\n          })\n          .catch(error => {\n            setMessage(`Information of ${person.name} has already been removed from server`)\n            setIsError(true)\n            setTimeout(() => {\n              setMessage(null)\n              setIsError(false)\n            }, 2500)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(createdPerson => {\n           setPersons(persons.concat(createdPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Added ${personObject.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2500)\n        })\n        .catch(error => {\n          setMessage(error.response.data.error)\n          setIsError(true)\n          setTimeout(() => {\n            setMessage(null)\n            setIsError(false)\n          }, 4000)\n          console.log(error.response.data)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value.toLowerCase())\n\n  const handleDeleteClick = (event) => {\n    const id = event.target.value\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Remove ${person.name} ?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setMessage(`Removed ${person.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2500)\n        })\n    }\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} isError={isError} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={persons}\n        filter={filter}\n        handleDeleteClick={handleDeleteClick}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}